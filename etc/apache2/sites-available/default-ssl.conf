<VirtualHost *:443>
    ServerAdmin webmaster@localhost
    ServerName localhost
    DocumentRoot /var/www/html

    SSLEngine on
    SSLCertificateFile /etc/apache2/ssl/server.crt
    SSLCertificateKeyFile /etc/apache2/ssl/server.key

    # Serve GoAccess report as a static file
    Alias /report.html /var/www/html/report.html
    <Files "report.html">
        Require all granted
    </Files>

    WSGIDaemonProcess flaskbank_ssl threads=5 python-path=/var/www/html:/var/www/html/venv/lib/python3.9.2/site-packages
    WSGIProcessGroup flaskbank_ssl
    WSGIScriptAlias / /var/www/html/app.wsgi

    <Directory /var/www/html>
        <Files app.wsgi>
            Require all granted
        </Files>
    </Directory>

    <Location "/server-status">
        SetHandler server-status
        Require local
    </Location>

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
    # Define a simple named format weâ€™ll use for the pipe
    LogFormat "%h %l %u %t \"%r\" %>s %b" basic
</VirtualHost>

